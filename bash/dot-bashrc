# -*- mode: shell-script; -*-
# .bashrc
# Source global definitions
if [ -f /etc/bashrc ]; then
	. /etc/bashrc
fi

shopt -s histappend
set -o noclobber
shopt -s cmdhist

export HISTCONTROL=ignoreboth:erasedups
export HISTSIZE=100000                   # big big history
export HISTFILESIZE=100000               # big big history
export HISTTIMEFORMAT='%F %T '

export LD_LIBRARY_PATH="$LD_LIBRARY_PATH:/usr/local/lib:/usr/local/lib64/"
export ALTERNATE_EDITOR=""
export EDITOR='emacsclient -nw'
export PERL_LOCAL_LIB_ROOT="$HOME/.local/perl";
export PATH="$PATH:$HOME/.local/bin:$HOME/bin:$PERL_LOCAL_LIB_ROOT/bin";
export PERL5LIB="$PERL_LOCAL_LIB_ROOT/lib/perl5";
export PERL_MB_OPT="--install_base '$PERL_LOCAL_LIB_ROOT'";
export PERL_MM_OPT="INSTALL_BASE='$PERL_LOCAL_LIB_ROOT'";
export LC_ALL="en_US.UTF-8"
export XDG_DATA_DIRS="$XDG_DATA_DIRS:/var/lib/flatpak/exports/share:$HOME/.local/share/flatpak/exports/share"
export CARGO_HOME="$HOME/.cargo"
export PATH="$PATH:$CARGO_HOME/bin"

alias ls=exa
alias cat=bat
alias pip3-install="pip3 install --user"
alias gem-install="gem install --user"
alias ec="emacsclient -t"
alias mp3-dl="youtube-dl --extract-audio --audio-format=mp3"
alias clang++="clang++ -std=c++17 -stdlib=libc++"
alias flatpak="flatpak --user"
alias whatsapp="ffmpeg -c:v libx264  -threads 4 -profile:v baseline -level 3.0 -pix_fmt yuv420p"

source ~/.config/fzf/completion.bash
source ~/.config/fzf/key-bindings.bash

if [[ "$INSIDE_EMACS" = 'vterm' ]] \
    && [[ -n ${EMACS_VTERM_PATH} ]] \
    && [[ -f ${EMACS_VTERM_PATH}/etc/emacs-vterm-bash.sh ]]; then
	source ${EMACS_VTERM_PATH}/etc/emacs-vterm-bash.sh
fi
